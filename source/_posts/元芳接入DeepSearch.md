---
title: 元芳接入DeepSearch
date: 2025-10-02
tags:
  - 元芳
  - DeepSearch
  - LLM
  - tools
categories: 果冻的航海日志
cover: ./img/logoZiyouzhiyi.jpg
---
## 实现过程

部署在虎符上, 因此Flask Web服务, 最后提供HTTP API接口. 
在元芳上新增工具为\[MCP\]问答_DeepResearch深度思考_服务,\[MCP\]问答_arXiv_服务(并没有用到在应用上), 新增应用为Deep Research应用.

1. 首先使用了DashScope翻译服务完成中译英, 因为arXiv的中文搜索不太行
2. 使用官方提供的arXiv库实现arXiv论文检索
3. 最后使用DeepSeek推理模型, 将论文检索的内容作为输入再加上用户原本的输入作为最终的输入给DeepSeekR1模型(在元芳上)
4. 返回1.论文 2.深度思考 3.最后回答 作为输出.相当于实现了[[DeepSearch]]

备份在github上了Deepsearch
## 流程核心功能

### 1. 多语言智能处理
- 中文检测与翻译 ：自动检测用户查询是否为中文，如果是则调用DashScope API翻译为英文
- 翻译容错机制 ：翻译失败时回退到原始查询，确保系统稳定性
### 2. 学术资源搜索
- arXiv论文检索 ：将翻译后的英文查询用于搜索相关学术论文
- 结果格式化 ：提取论文标题和PDF链接，生成易读的参考信息
### 3. AI深度推理
- DeepSeek Reasoner模型 ：使用专门的推理模型进行深度思考
- 上下文增强 ：结合用户查询和论文信息生成全面回答
- 结构化响应 ：提取角色、内容和推理过程三个维度的信息
### 4. 完整响应返回
- 双数据源 ：同时返回论文搜索结果和AI生成的回答
- 错误处理 ：完善的异常捕获机制，确保服务稳定性
### 技术亮点
- 多API集成 ：DashScope翻译 + arXiv搜索 + DeepSeek推理
- 智能语言处理 ：中英文无缝切换
- 学术级回答 ：基于最新研究论文提供权威解答
这个DeepSearch系统特别适合需要学术背景知识的深度问答场景，能够为用户提供基于最新研究的专业回答。